## 分区

Redis 分区是将你的数据分发到不同的 redis 实例上的一个过程，每个 redis 顺利只是你所有 key 的一个子集，注意，这里说的实例是 redis 实例，不是 redis 中的 db0-db15（每个实例具有的数据库个数，可以在配置文件中设置）;

分区的好处:
 - 可以让 redis 管理更大的内存，使用所有机器的内存，不分区将只能使用一台机器的内存
 - 可以让 redis 的计算能力通过简单地增加计算机得到成倍提升，redis 的带宽也会随着计算机和网卡的增加而成倍增长

分区方法：
 - 范围分区: 将不同范围的对象映射到不同的 redis 实例，如用户 id 为0-1000 的数据存储到 R1，用户 id 为1001-2000 的数据存储到 R2
 - 哈希分区: 
    - 通过散列函数(如 crc32 )将键名转换为一个数字，crc32(foo)产生散列 93024922
    - 对转换后的散列进行取模(根据实例来决定取模的数字，如有四个实例，则对 4 取模，得到一个 0-3 的数)，产生一个数字，根据取模后的数将数据存储到对应的实例上
    - 当增加和减少机器时导致大量缓存位置改变，进而出现缓存失效
 - 一致性哈希分区: